spring:
  main:
    # Allow bean definition overriding for test mocks
    allow-bean-definition-overriding: true
  datasource:
    url: jdbc:h2:mem:testdb
    driver-class-name: org.h2.Driver
  h2:
    console:
      enabled: false
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: false
  cache:
    type: none
  data:
    redis:
      # Use embedded Redis for tests
      host: localhost
      port: 6370  # Different port to avoid conflicts
      password: ""
      timeout: 2000

# Disable rate limiting for tests
rate-limiting:
  authenticated:
    capacity: 1000000
    tokens: 1000000
    period: 1
  anonymous:
    capacity: 1000000
    tokens: 1000000
    period: 1
  ip-based: false

# Disable security headers for tests
security:
  headers:
    enabled: false
  login:
    max-attempts: 1000000
    lockout-duration-minutes: 0

# JWT configuration for tests
jwt:
  secret: test-secret-key-for-testing-purposes-only-change-in-production
  expiration: 900000 # 15 minutes
  refresh:
    expiration: 604800000 # 7 days
  rsa:
    private-key: ""
    public-key: ""
  encryption:
    enabled: false # Disable JWE for tests